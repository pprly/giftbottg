"""
–°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ —É—á–∞—Å—Ç–∏—è –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö
–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏
"""

# Username –±–æ—Ç–∞ –¥–ª—è —Å—Å—ã–ª–æ–∫
BOT_USERNAME = "Zazvezdilsya_bot"


def format_rejection_message(error_type: str, required: int = 0, current: int = 0) -> str:
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—Ç–∫–∞–∑–µ –≤ —É—á–∞—Å—Ç–∏–∏
    
    Args:
        error_type: –¢–∏–ø –æ—à–∏–±–∫–∏ ('min_referrals', 'min_contests', 'max_contests')
        required: –¢—Ä–µ–±—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        current: –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        
    Returns:
        –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –±–æ—Ç–∞
    """
    
    messages = {
        "min_referrals": {
            "emoji": "üîó",
            "reason": f"–ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º {required} —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ (—É –≤–∞—Å: {current})",
            "tips": [
                "üí° –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤:",
                "‚Ä¢ –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–∑–µ–π –ø–æ —Å–≤–æ–µ–π —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ",
                "‚Ä¢ –ü–æ–ª—É—á–∏—Ç–µ —Å—Å—ã–ª–∫—É –≤ –±–æ—Ç–µ –∫–æ–º–∞–Ω–¥–æ–π /start",
                "‚Ä¢ –ö–∞–∂–¥—ã–π –ø–æ–¥–ø–∏—Å–∞–≤—à–∏–π—Å—è –¥—Ä—É–≥ = +1 —Ä–µ—Ñ–µ—Ä–∞–ª"
            ]
        },
        
        "min_contests": {
            "emoji": "üéØ",
            "reason": f"–ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º {required} —É—á–∞—Å—Ç–∏–π –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö (—É –≤–∞—Å: {current})",
            "tips": [
                "üí° –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª—å—à–µ —É—á–∞—Å—Ç–∏–π:",
                "‚Ä¢ –£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ –¥—Ä—É–≥–∏—Ö –∫–æ–Ω–∫—É—Ä—Å–∞—Ö",
                "‚Ä¢ –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∞–Ω–æ–Ω—Å–∞–º–∏ –≤ –∫–∞–Ω–∞–ª–µ",
                "‚Ä¢ –ö–∞–∂–¥–æ–µ —É—á–∞—Å—Ç–∏–µ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç –∫ —Ü–µ–ª–∏"
            ]
        },
        
        "max_contests": {
            "emoji": "üÜï",
            "reason": f"–≠—Ç–æ—Ç –∫–æ–Ω–∫—É—Ä—Å —Ç–æ–ª—å–∫–æ –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å –º–∞–∫—Å–∏–º—É–º {required} —É—á–∞—Å—Ç–∏—è–º–∏ (—É –≤–∞—Å: {current})",
            "tips": [
                "üí° –≠—Ç–æ—Ç –∫–æ–Ω–∫—É—Ä—Å –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤:",
                "‚Ä¢ –î–∞–π—Ç–µ —à–∞–Ω—Å –¥—Ä—É–≥–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º",
                "‚Ä¢ –°–ª–µ–¥—É—é—â–∏–π –∫–æ–Ω–∫—É—Ä—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–ª—è –≤–∞—Å!",
                "‚Ä¢ –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∞–Ω–æ–Ω—Å–∞–º–∏ –≤ –∫–∞–Ω–∞–ª–µ"
            ]
        },
        
        "not_subscribed": {
            "emoji": "‚ö†Ô∏è",
            "reason": "–í—ã –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ –∫–∞–Ω–∞–ª",
            "tips": [
                "üí° –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:",
                "‚Ä¢ –ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –∫–∞–Ω–∞–ª",
                "‚Ä¢ –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–Ω–æ–≤–∞",
                "‚Ä¢ –£—á–∞—Å—Ç–∏–µ –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤"
            ]
        },
        
        "previous_winner": {
            "emoji": "üèÜ",
            "reason": "–í—ã –±—ã–ª–∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–º –≤ –ø—Ä–æ—à–ª–æ–º –∫–æ–Ω–∫—É—Ä—Å–µ —ç—Ç–æ–≥–æ —Ç–∏–ø–∞",
            "tips": [
                "üí° –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –ø—Ä–æ—à–ª–æ–π –ø–æ–±–µ–¥–æ–π!",
                "‚Ä¢ –î–∞–π—Ç–µ —à–∞–Ω—Å –¥—Ä—É–≥–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º",
                "‚Ä¢ –í—ã —Å–º–æ–∂–µ—Ç–µ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Å–ª–µ–¥—É—é—â–µ–º –∫–æ–Ω–∫—É—Ä—Å–µ",
                "‚Ä¢ –°–ª–µ–¥–∏—Ç–µ –∑–∞ –Ω–æ–≤—ã–º–∏ –∞–Ω–æ–Ω—Å–∞–º–∏"
            ]
        }
    }
    
    # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏
    msg_data = messages.get(error_type)
    
    if not msg_data:
        # –ï—Å–ª–∏ —Ç–∏–ø –æ—à–∏–±–∫–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –±–∞–∑–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        return (
            f"‚ùå –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —ç—Ç–æ–º –∫–æ–Ω–∫—É—Ä—Å–µ.\n\n"
            f"üìã –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ –±–æ—Ç–µ: @{BOT_USERNAME}"
        )
    
    # –§–æ—Ä–º–∏—Ä—É–µ–º –∫—Ä–∞—Å–∏–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    message_parts = [
        f"{msg_data['emoji']} **–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —ç—Ç–æ–º –∫–æ–Ω–∫—É—Ä—Å–µ.**\n",
        f"üìã **–ü—Ä–∏—á–∏–Ω–∞:** {msg_data['reason']}\n"
    ]
    
    # –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥—Å–∫–∞–∑–∫–∏
    if msg_data['tips']:
        message_parts.append("\n".join(msg_data['tips']))
        message_parts.append("")  # –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞
    
    # –î–æ–±–∞–≤–ª—è–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –±–æ—Ç–∞
    message_parts.append(f"üëâ –ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ –±–æ—Ç–µ: @{BOT_USERNAME}")
    message_parts.append(f"üìû –í–æ–ø—Ä–æ—Å—ã? –ù–∞–ø–∏—à–∏—Ç–µ –∞–¥–º–∏–Ω—É: @nbtov")
    
    return "\n".join(message_parts)


# –ì–æ—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
def get_min_referrals_error(required: int, current: int) -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ: –º–∞–ª–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤"""
    return format_rejection_message("min_referrals", required, current)


def get_min_contests_error(required: int, current: int) -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ: –º–∞–ª–æ —É—á–∞—Å—Ç–∏–π"""
    return format_rejection_message("min_contests", required, current)


def get_max_contests_error(required: int, current: int) -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ: —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —É—á–∞—Å—Ç–∏–π"""
    return format_rejection_message("max_contests", required, current)


def get_not_subscribed_error() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ: –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –∫–∞–Ω–∞–ª"""
    return format_rejection_message("not_subscribed")


def get_previous_winner_error() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ: –±—ã–ª –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–º –≤ –ø—Ä–æ—à–ª–æ–º –∫–æ–Ω–∫—É—Ä—Å–µ"""
    return format_rejection_message("previous_winner")
