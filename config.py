"""
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Contest Bot v2.4
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
"""

import os
from dotenv import load_dotenv

# –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
load_dotenv()

# ============== –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò ==============

# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ (–∏–∑ .env)
BOT_TOKEN = os.getenv("BOT_TOKEN")
BOT_USERNAME = os.getenv("BOT_USERNAME", "starsdropsrobot")

# ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–∏–∑ .env)
ADMIN_ID = int(os.getenv("ADMIN_ID", 0))
ADMIN_USERNAME = os.getenv("ADMIN_USERNAME", "adjetsky")

# ID –±–æ—Ç–∞ (–∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ —Ç–æ–∫–µ–Ω–∞)
BOT_ID = int(BOT_TOKEN.split(":")[0]) if BOT_TOKEN else 0

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
if not BOT_TOKEN:
    raise ValueError("‚ùå BOT_TOKEN –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ .env —Ñ–∞–π–ª–µ!")
if not ADMIN_ID:
    raise ValueError("‚ùå ADMIN_ID –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ .env —Ñ–∞–π–ª–µ!")

# ============== –ö–ê–ù–ê–õ–´ –ò –ì–†–£–ü–ü–´ ==============

# ID –∫–∞–Ω–∞–ª–∞ (–∏–∑ .env)
CHANNEL_ID = int(os.getenv("CHANNEL_ID", 0))
DISCUSSION_GROUP_ID = int(os.getenv("DISCUSSION_GROUP_ID", 0))
CHANNEL_INVITE_LINK = os.getenv("CHANNEL_INVITE_LINK", "")
BOT_INVITE_LINK = os.getenv("BOT_INVITE_LINK", "")

if not CHANNEL_ID or not DISCUSSION_GROUP_ID:
    raise ValueError("‚ùå CHANNEL_ID –∏–ª–∏ DISCUSSION_GROUP_ID –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ .env!")

# ============== –ë–ê–ó–ê –î–ê–ù–ù–´–• ==============

# PostgreSQL (–∏–∑ .env)
POSTGRES_DSN = os.getenv("DATABASE_URL")

if not POSTGRES_DSN:
    raise ValueError("‚ùå DATABASE_URL –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ .env —Ñ–∞–π–ª–µ!")

# SQLite (–¥–ª—è —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
SQLITE_DATABASE_PATH = "contest_bot.db"

# ============== –ù–ê–°–¢–†–û–ô–ö–ò –ö–û–ù–ö–£–†–°–û–í ==============

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
DEFAULT_PARTICIPANTS_COUNT = 10
MAX_PARTICIPANTS_COUNT = 15
DEFAULT_TIMER_MINUTES = 60

# –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (—Å–µ–∫—É–Ω–¥—ã)
COMMENT_CHECK_INTERVAL = 15

# –≠–º–æ–¥–∑–∏ –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (15 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö)
PARTICIPANT_EMOJIS = [
    "üòà", "‚ù§Ô∏è", "üí©", "üèÜ", "üëª", 
    "üî•", "üíä", "üíÖ", "üôà", "üïä", 
    "üëÄ", "üò°", "üê≥", "üíØ", "üëç"
]

# ============== –¢–ò–ü–´ –ö–û–ù–ö–£–†–°–û–í ==============

CONTEST_TYPES = {
    "voting_contest": {
        "name": "üó≥Ô∏è –ì–æ–ª–æ—Å–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π",
        "description": "–ê–¥–º–∏–Ω –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –≤—Ä—É—á–Ω—É—é"
    },
    "random_contest": {
        "name": "üé∞ –†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä",
        "description": "–ü–æ–±–µ–¥–∏—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ"
    },
    "spam_contest": {
        "name": "‚ö° –°–ø–∞–º-–∫–æ–Ω–∫—É—Ä—Å",
        "description": "–ü–æ–±–µ–¥–∏—Ç–µ–ª—å –Ω–∞–ø–∏—Å–∞–ª –±–æ–ª—å—à–µ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π"
    }
}

# ============== –£–°–õ–û–í–ò–Ø –£–ß–ê–°–¢–ò–Ø ==============

ENTRY_CONDITIONS = {
    "first_n": {
        "name": "üë• –ü–µ—Ä–≤—ã–µ N —á–µ–ª–æ–≤–µ–∫",
        "description": "–¢–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏, –∫—Ç–æ –Ω–∞–ø–∏—Å–∞–ª –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"
    },
    "min_referrals": {
        "name": "üîó –ú–∏–Ω–∏–º—É–º —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤",
        "description": "–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ —Ç–µ, —É –∫–æ–≥–æ –µ—Å—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—ã"
    },
    "min_contests": {
        "name": "üéØ –ú–∏–Ω–∏–º—É–º —É—á–∞—Å—Ç–∏–π",
        "description": "–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"
    },
    "max_contests": {
        "name": "üÜï –ú–∞–∫—Å–∏–º—É–º —É—á–∞—Å—Ç–∏–π",
        "description": "–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ –Ω–æ–≤–∏—á–∫–∏)"
    },
}

# ============== –î–û–°–¢–ò–ñ–ï–ù–ò–Ø ==============

ACHIEVEMENTS = {
    # –£—á–∞—Å—Ç–∏–µ –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö
    "participation": {
        "newbie": {"name": "–ù–æ–≤–∏—á–æ–∫", "emoji": "üéØ", "required": 5},
        "advanced": {"name": "–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π", "emoji": "‚≠ê", "required": 50},
        "veteran": {"name": "–í–µ—Ç–µ—Ä–∞–Ω", "emoji": "üõ°Ô∏è", "required": 250},
        "legend": {"name": "–õ–µ–≥–µ–Ω–¥–∞", "emoji": "üëë", "required": 1000}
    },
    
    # –ü–æ–±–µ–¥—ã
    "wins": {
        "lucky": {"name": "–í–µ–∑—É–Ω—á–∏–∫", "emoji": "üçÄ", "required": 5},
        "winner": {"name": "–ü–æ–±–µ–¥–∏—Ç–µ–ª—å", "emoji": "üèÖ", "required": 30},
        "champion": {"name": "–ß–µ–º–ø–∏–æ–Ω", "emoji": "üèÜ", "required": 100},
        "king": {"name": "–ö–æ—Ä–æ–ª—å", "emoji": "üëë", "required": 1000}
    },
    
    # –†–µ—Ñ–µ—Ä–∞–ª—ã
    "referrals": {
        "friend": {"name": "–î—Ä—É–≥", "emoji": "üëã", "required": 5},
        "popular": {"name": "–ü–æ–ø—É–ª—è—Ä–Ω—ã–π", "emoji": "üåü", "required": 25},
        "influencer": {"name": "–õ–∏–¥–µ—Ä –º–Ω–µ–Ω–∏–π", "emoji": "üí´", "required": 100},
        "blogger": {"name": "–ë–ª–æ–≥–µ—Ä", "emoji": "üöÄ", "required": 1000}
    },
    
    # –û—Å–æ–±—ã–µ (—Å–µ—Ä–∏–∏ –ø–æ–±–µ–¥)
    "special": {
        "lucky_streak": {"name": "–ü—Ä–æ—Å—Ç–æ –ø–æ–≤–µ–∑–ª–æ", "emoji": "üé≤", "required": 2},
        "win_streak": {"name": "–°–µ—Ä–∏—è –ø–æ–±–µ–¥", "emoji": "üî•", "required": 3},
        "unstoppable": {"name": "–ù–µ–≤–æ–∑–º—É—Ç–∏–º—ã–π", "emoji": "‚ö°", "required": 5}
    }
}

# ============== –¢–ï–ö–°–¢–´ –°–û–û–ë–©–ï–ù–ò–ô ==============

MESSAGES = {
    # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
    "start_admin": "üéÆ **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å Contest Bot v2.4**\n\n–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:",
    
    # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    "start_user": (
        "üéÆ **–ó–∞–∑–≤–µ–∑–¥–∏–ª—Å—è - –ë–æ—Ç**\n\n"
        "–£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö –∏ –ø—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π!\n\n"
        "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:"
    ),
    
    # –ü–æ–¥–ø–∏—Å–∫–∞
    "not_subscribed": "‚ö†Ô∏è –í—ã –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ –∫–∞–Ω–∞–ª!\n\nüëâ –ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –∫–∞–Ω–∞–ª –¥–ª—è —É—á–∞—Å—Ç–∏—è –≤ –∫–æ–Ω–∫—É—Ä—Å–µ.",
    
    # –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
    "referral_welcome": (
        "üëã –ü—Ä–∏–≤–µ—Ç!\n\n"
        "–í–∞—Å –ø—Ä–∏–≥–ª–∞—Å–∏–ª: {referrer_name}\n\n"
        "üéÅ –ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –Ω–∞—à –∫–∞–Ω–∞–ª, —á—Ç–æ–±—ã —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö "
        "–∏ –ø–æ–º–æ—á—å –¥—Ä—É–≥—É –ø–æ–ª—É—á–∏—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–µ –æ—á–∫–æ!\n\n"
        "–ü–æ—Å–ª–µ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ:"
    ),
    
    "referral_success": (
        "‚úÖ –û—Ç–ª–∏—á–Ω–æ! –í—ã –ø–æ–¥–ø–∏—Å–∞–ª–∏—Å—å –Ω–∞ –∫–∞–Ω–∞–ª.\n\n"
        "üéÅ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–µ –æ—á–∫–æ –Ω–∞—á–∏—Å–ª–µ–Ω–æ –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–º—É!\n\n"
        "–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö."
    ),
    
    "new_referral": (
        "üéâ –£ –≤–∞—Å –Ω–æ–≤—ã–π —Ä–µ—Ñ–µ—Ä–∞–ª!\n\n"
        "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {name} –ø–æ–¥–ø–∏—Å–∞–ª—Å—è –ø–æ –≤–∞—à–µ–π —Å—Å—ã–ª–∫–µ.\n"
        "+1 –æ—á–∫–æ! üåü"
    )
}

# ============== –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –ü–†–ò–ù–Ø–¢–ò–ï –ó–ê–Ø–í–û–ö ==============

AUTO_APPROVE_ENABLED = True

print("‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏–∑ .env")